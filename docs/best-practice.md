# Лучшие практики

> Этот документ содержит краткие, компактные и понятные правила для работы с проектом. Если нужно дополнить файл, сначала убедитесь, что похожего правила еще нет, затем добавьте новое правило в соответствующий раздел. Правило должно быть кратким, но информативным.

## Архитектура

- **Страницы**: Все в `app/**/page.tsx`, не используйте `use client` на уровне страниц
- **Общие компоненты**: Хранить в `app/components/`
- **UI-компоненты**: Использовать shadcn/ui из `components/ui/`

## React и Next.js

- **SSR**: Страницы должны быть серверными для SEO
- **CSR**: Используйте `use client` только для компонентов с браузерным API (clipboard, localStorage)
- **Рендеринг**: Выносите клиентский код в отдельные компоненты

## UI-компоненты shadcn

- **Установка**: `npx shadcn@latest add [component-name]`
- **Кнопки**: Используйте `<Button>` из `@/components/ui/button`
- **Тултипы**: Используйте `<Tooltip>` из `@/components/ui/tooltip`
- **Уведомления**: Используйте `<Toaster>` и `useToast()` из `@/components/ui/toast`
- **Дропдаун-меню**: Используйте `<DropdownMenu>` для выпадающих меню в навигации
- **Диалоги**: Используйте `<Dialog>` для модальных окон вместо ручной реализации
- **Копирование**: Используйте `<CopyButton text="текст" />`
- **Темизация**: При использовании shadcn сохраняйте кастомные цвета в `globals.css`

## HTML и доступность

- **Семантика**: В тегах `<p>` используйте только строчные элементы (`span`, `a`)
- **Иконки**: Добавлять в `app/components/Icons.tsx` с `title` для доступности
- **Aria-атрибуты**: Всегда добавляйте aria-label для кнопок без текста
- **Фокус**: Используйте focus-visible для навигации с клавиатуры

## Локализация

- **Переводы**: Добавлять в `public/locales/{ru,en,sr}/common.json`
- **Использование**: `t("ключ")` в компонентах
- **Языки**: При добавлении ключа синхронизировать все файлы локализации

## Темизация

- **Переключение**: Используйте `<ThemeSelector>` из `app/components/ThemeSelector.tsx`
- **CSS-переменные**: Используйте переменные из `globals.css` для совместимости с shadcn/ui
- **Кастомные цвета**: Сохраняйте kamni-yellow, kamni-dark и kamni-light в tailwind.config.js

## Изменение контента 

- **Навигация**: Обновлять `Header.tsx`, `Footer.tsx` и компоненты навигации синхронно
- **Редиректы**: Настраивать в `next.config.js`
- **Ссылки**: Использовать утилиты из `app/components/AppLinks.tsx`

## Статические файлы

- **Публичные файлы**: Размещать в `public/`, доступ от корня (`/`)
- **Stellar TOML**: Обновлять `public/.well-known/stellar.toml`

## Тестирование и развертывание

- **Тесты**: Запускать `npm test` перед коммитом
- **Деплой**: Настраивать через Vercel, конфигурация в `vercel.json`
- **Переменные**: Настраивать через интерфейс Vercel 